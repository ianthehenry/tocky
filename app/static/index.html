<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Tocky</title>
    <link rel="stylesheet" type="text/css" href="css/app.css" />
  </head>
  <body>
    <script type="text/x-handlebars" data-template-name="authenticated">
      <header>
        Girl, you logged in as {{inline-user user=.}} and sockets are {{socketState}}

        <button {{action "logout"}}>log out</button>
      </header>

      <div id="main">
        {{outlet}}
      </div>
    </script>
    <script type="text/x-handlebars" data-template-name="rooms">
      <div id="rooms">
        {{#each}}
          {{#link-to 'room' . class="room"}}
            <span class="room-name">{{name}}</span>
            <span class="unread-count">0</span>
          {{/link-to}}
        {{/each}}
      </div>
      <div id="current-room">
        {{outlet}}
      </div>
    </script>
    <script type="text/x-handlebars" data-template-name="rooms/index">
      Get a room
    </script>
    <script type="text/x-handlebars" data-template-name="room">
      <div id="room-header">{{name}}</div>
      <div id="room-content">
        <div id="messages-container">
          {{render 'messages' messages}}
          {{smart-text id="message-input" value=nextMessageText enter-down="sendMessage"}}
        </div>
        <div id="users">
          {{#each users}}
            <div>{{name}}</div>
          {{/each}}
        </div>
      </div>
    </script>
    <script type="text/x-handlebars" data-template-name="messages">
      {{each itemViewClass="Tocky.MessageView"}}
    </script>
    <script type="text/x-handlebars" data-template-name="message">
            {{inline-user user=user}}:
            <span class="message">{{content}}</span>
            <span class="time">{{time}}</span>
    </script>
    <script type="text/x-handlebars" data-template-name="login">
      {{input type="email" value=email}}
      {{input type="password" value=password}}
      <button {{action "login"}}>Tell the internet</button>
    </script>
    <script type="text/x-handlebars" id="components/inline-user"><!--
      --><img height="20px" width="20px" {{bind-attr src=gravatarUrl}} />{{user.name}}<!--
    --></script>
    <script src="js/vendor.js"></script>
    <script src="js/app.js"></script>
  </body>
</html>
